/// <reference types="node" />
import { IlpReject, IlpPrepare, IlpFulfill, IlpAddress, IlpReply } from 'ilp-packet';
import { LongValue } from 'ilp-protocol-stream/dist/src/util/long';
export interface ServerOptions {
    serverSecret: Buffer;
    serverAddress: string;
}
export interface StreamCredentials {
    ilpAddress: IlpAddress;
    sharedSecret: Buffer;
}
export interface IncomingMoney {
    connectionId: string;
    paymentTag?: string;
    setTotalReceived(totalReceived: LongValue): void;
    accept(): IlpFulfill;
    temporaryDecline(): IlpReject;
    finalDecline(): IlpReject;
}
interface ConnectionDetails {
    paymentTag?: string;
    receiptSetup?: {
        secret: Buffer;
        nonce: Buffer;
    };
    asset?: {
        code: string;
        scale: number;
    };
}
export declare class StreamServer {
    private static TOKEN_GENERATION_STRING;
    private static SHARED_SECRET_GENERATION_STRING;
    private static ENCRYPTION_KEY_STRING;
    private static FULFILLMENT_GENERATION_STRING;
    private static TOKEN_GENERATION_BUFFER;
    private static TOKEN_FLAGS;
    private serverAddress;
    private sharedSecretKeyGen;
    private connectionTokenKeyGen;
    constructor({ serverSecret, serverAddress }: ServerOptions);
    generateCredentials(options?: ConnectionDetails): StreamCredentials;
    private extractLocalAddressSegment;
    private decryptToken;
    decodePaymentTag(destinationAddress: string): string | void;
    createReply(prepare: IlpPrepare): IncomingMoney | IlpReply;
}
export {};
