/// <reference types="node" />
import { Logger } from 'ilp-logger';
import { IlpReject, IlpAddress } from 'ilp-packet';
import { Frame } from 'ilp-protocol-stream/dist/src/packet';
import { Int } from '@interledger/pay/dist/src/utils';
export interface Plugin {
    sendData(data: Buffer): Promise<Buffer>;
}
export declare const generateKeys: (plugin: Plugin, sharedSecret: Buffer) => (request: StreamRequest) => Promise<StreamReply>;
export interface StreamRequest {
    destinationAddress: IlpAddress;
    expiresAt: Date;
    sequence: number;
    sourceAmount: Int;
    minDestinationAmount: Int;
    frames: Frame[];
    isFulfillable: boolean;
    log: Logger;
}
export declare class RequestBuilder implements StreamRequest {
    private request;
    constructor(request?: Partial<StreamRequest>);
    get destinationAddress(): IlpAddress;
    get expiresAt(): Date;
    get sequence(): number;
    get sourceAmount(): Int;
    get minDestinationAmount(): Int;
    get frames(): Frame[];
    get isFulfillable(): boolean;
    get log(): Logger;
    setDestinationAddress(address: IlpAddress): this;
    setExpiry(expiresAt: Date): this;
    setSequence(sequence: number): this;
    setSourceAmount(sourceAmount: Int): this;
    setMinDestinationAmount(minDestinationAmount: Int): this;
    addFrames(...frames: Frame[]): this;
    enableFulfillment(): this;
    build(): StreamRequest;
}
export interface StreamReply {
    readonly log: Logger;
    readonly frames?: Frame[];
    readonly destinationAmount?: Int;
    isAuthentic(): boolean;
    isReject(): this is StreamReject;
    isFulfill(): this is StreamFulfill;
}
export declare class StreamFulfill implements StreamReply {
    readonly log: Logger;
    readonly frames?: Frame[];
    readonly destinationAmount?: Int;
    constructor(log: Logger, frames?: Frame[], destinationAmount?: Int);
    isAuthentic(): boolean;
    isReject(): this is StreamReject;
    isFulfill(): this is StreamFulfill;
}
export declare class StreamReject implements StreamReply {
    readonly log: Logger;
    readonly frames?: Frame[];
    readonly destinationAmount?: Int;
    readonly ilpReject: IlpReject;
    constructor(log: Logger, ilpReject: IlpReject, frames?: Frame[], destinationAmount?: Int);
    isAuthentic(): boolean;
    isReject(): this is StreamReject;
    isFulfill(): this is StreamFulfill;
}
