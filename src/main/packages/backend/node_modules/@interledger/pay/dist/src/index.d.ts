import { AssetDetails } from '@interledger/pay/dist/src/controllers/asset-details';
import { Counter } from '@interledger/pay/dist/src/controllers/sequence';
import { PaymentDestination, Amount } from '@interledger/pay/dist/src/open-payments';
import { Plugin } from '@interledger/pay/dist/src/request';
import { PaymentType } from '@interledger/pay/dist/src/senders/payment';
import { Int, PositiveInt, PositiveRatio, Ratio } from '@interledger/pay/dist/src/utils';
export { IncomingPayment } from '@interledger/pay/dist/src/open-payments';
export { AccountUrl } from '@interledger/pay/dist/src/payment-pointer';
export { Int, PositiveInt, PositiveRatio, Ratio, Counter, PaymentType, AssetDetails };
export interface SetupOptions {
    plugin: Plugin;
    destinationAccount?: string;
    destinationPayment?: string;
    destinationConnection?: string;
    amountToDeliver?: Amount;
    sharedSecret?: Uint8Array;
    destinationAddress?: string;
    destinationAsset?: AssetDetails;
}
export interface ResolvedPayment extends PaymentDestination {
    destinationAsset: AssetDetails;
    requestCounter: Counter;
}
export interface QuoteOptions {
    plugin: Plugin;
    destination: ResolvedPayment;
    sourceAsset?: AssetDetails;
    amountToSend?: Int | string | number | bigint;
    amountToDeliver?: Int | string | number | bigint;
    slippage?: number;
    prices?: {
        [assetCode: string]: number;
    };
}
export interface Quote {
    readonly paymentType: PaymentType;
    readonly maxSourceAmount: bigint;
    readonly minDeliveryAmount: bigint;
    readonly maxPacketAmount: bigint;
    readonly lowEstimatedExchangeRate: Ratio;
    readonly highEstimatedExchangeRate: PositiveRatio;
    readonly minExchangeRate: Ratio;
}
export declare type IntQuote = Omit<Quote, 'maxSourceAmount' | 'minDeliveryAmount' | 'maxPacketAmount'> & {
    readonly maxSourceAmount: PositiveInt;
    readonly minDeliveryAmount: Int;
    readonly maxPacketAmount: PositiveInt;
};
export interface PayOptions {
    plugin: Plugin;
    destination: ResolvedPayment;
    quote: Quote;
    progressHandler?: (progress: PaymentProgress) => void;
}
export interface PaymentProgress {
    error?: PaymentError;
    amountSent: bigint;
    amountDelivered: bigint;
    sourceAmountInFlight: bigint;
    destinationAmountInFlight: bigint;
    streamReceipt?: Uint8Array;
}
export declare enum PaymentError {
    InvalidPaymentPointer = "InvalidPaymentPointer",
    InvalidCredentials = "InvalidCredentials",
    InvalidSlippage = "InvalidSlippage",
    UnknownSourceAsset = "UnknownSourceAsset",
    UnknownPaymentTarget = "UnknownPaymentTarget",
    InvalidSourceAmount = "InvalidSourceAmount",
    InvalidDestinationAmount = "InvalidDestinationAmount",
    UnenforceableDelivery = "UnenforceableDelivery",
    InvalidQuote = "InvalidQuote",
    InvalidDestination = "InvalidDestination",
    QueryFailed = "QueryFailed",
    IncomingPaymentCompleted = "IncomingPaymentCompleted",
    IncomingPaymentExpired = "IncomingPaymentExpired",
    ConnectorError = "ConnectorError",
    EstablishmentFailed = "EstablishmentFailed",
    UnknownDestinationAsset = "UnknownDestinationAsset",
    DestinationAssetConflict = "DestinationAssetConflict",
    ExternalRateUnavailable = "ExternalRateUnavailable",
    RateProbeFailed = "RateProbeFailed",
    InsufficientExchangeRate = "InsufficientExchangeRate",
    IdleTimeout = "IdleTimeout",
    ClosedByReceiver = "ClosedByReceiver",
    IncompatibleReceiveMax = "IncompatibleReceiveMax",
    ReceiverProtocolViolation = "ReceiverProtocolViolation",
    MaxSafeEncryptionLimit = "MaxSafeEncryptionLimit"
}
export declare const isPaymentError: (o: any) => o is PaymentError;
export declare const setupPayment: (options: SetupOptions) => Promise<ResolvedPayment>;
export declare const startQuote: (options: QuoteOptions) => Promise<Quote>;
export declare const pay: (options: PayOptions) => Promise<PaymentProgress>;
export declare const closeConnection: (plugin: Plugin, destination: ResolvedPayment) => Promise<void>;
