{"version":3,"file":"expiry.js","sourceRoot":"","sources":["../../../src/controllers/expiry.ts"],"names":[],"mappings":";;;AAAA,wBAAkD;AAGlD,MAAa,gBAAgB;IAQ3B,YAAY,CAAC,OAAuB;QAClC,OAAO,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,gBAAgB,CAAC,wBAAwB,CAAC,CAAC,CAAA;QACnF,OAAO,eAAY,CAAC,KAAK,EAAE,CAAA;IAC7B,CAAC;;AAXH,4CAYC;AANgB,yCAAwB,GAAG,KAAM,CAAA","sourcesContent":["import { RequestState, StreamController } from '.'\nimport { RequestBuilder } from '../request'\n\nexport class ExpiryController implements StreamController {\n  /**\n   * Maximum duration that a ILP Prepare can be in-flight before it should be rejected, in milliseconds.\n   * This is longer than the payment timeout duration to account for the min message\n   * window each connector may subtract from the expiry.\n   */\n  private static DEFAULT_PACKET_EXPIRY_MS = 20_000\n\n  buildRequest(request: RequestBuilder): RequestState {\n    request.setExpiry(new Date(Date.now() + ExpiryController.DEFAULT_PACKET_EXPIRY_MS))\n    return RequestState.Ready()\n  }\n}\n"]}